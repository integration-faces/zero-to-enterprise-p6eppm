#===============================================================================
# WebLogic Domain Configuration - Oracle Primavera P6 EPPM
# 
# This configuration creates a P6 EPPM domain with multiple clusters
# for different P6 components (recommended Oracle architecture).
#
# Components:
#   - P6 EPPM Web (main web application)
#   - P6 Web Services (SOAP/REST APIs)
#   - P6 Professional Cloud Connect (P6 Pro integration)
#   - P6 Team Member Web (optional lightweight interface)
#
# Architecture: Two-host HA with application-based cluster isolation
#===============================================================================

[DOMAIN]
#-------------------------------------------------------------------------------
# Domain Settings
# Following Oracle P6 naming conventions
#-------------------------------------------------------------------------------
DOMAIN_NAME=eppm_domain
DOMAIN_HOME=/app/fmw/user_projects/domains/eppm_domain
ADMIN_SERVER_NAME=AdminServer
ADMIN_PORT=7001
ADMIN_USER=weblogic
ADMIN_PASSWORD=P6SecurePass123
PRODUCTION_MODE=true

#-------------------------------------------------------------------------------
# Installation Paths
# Standard P6 installation paths
#-------------------------------------------------------------------------------
JAVA_HOME=/app/jdk1.8.0_471
WEBLOGIC_HOME=/app/fmw/wlserver
MIDDLEWARE_HOME=/app/fmw

[ADMIN_SERVER]
#-------------------------------------------------------------------------------
# Admin Server Configuration
#-------------------------------------------------------------------------------
LISTEN_ADDRESS=0.0.0.0
LISTEN_PORT=7001
SSL_ENABLED=false

[CLUSTERS]
#-------------------------------------------------------------------------------
# P6 Component Clusters
# Best practice: Separate cluster per P6 application for isolation
#-------------------------------------------------------------------------------
ENABLED=true
CLUSTER_COUNT=4

# Cluster 1: P6 EPPM Web Application
CLUSTER1_NAME=P6Cluster
CLUSTER1_MESSAGING_MODE=unicast

# Cluster 2: P6 Web Services (SOAP/REST APIs)
CLUSTER2_NAME=WebServicesCluster
CLUSTER2_MESSAGING_MODE=unicast

# Cluster 3: P6 Professional Cloud Connect
CLUSTER3_NAME=ProCloudConnectCluster
CLUSTER3_MESSAGING_MODE=unicast

# Cluster 4: P6 Team Member Web
CLUSTER4_NAME=TeamMemberCluster
CLUSTER4_MESSAGING_MODE=unicast

[HOSTS]
#-------------------------------------------------------------------------------
# Two-Host HA Configuration
# Adjust hostnames to match your environment
#-------------------------------------------------------------------------------
HOST_COUNT=2
HOST1=xpmvp01
HOST2=xpmvp02

[MACHINES]
#-------------------------------------------------------------------------------
# Machine Definitions
# Standard Node Manager port 5556
#-------------------------------------------------------------------------------
MACHINE1=machine-xpmvp01:xpmvp01:5556
MACHINE2=machine-xpmvp02:xpmvp02:5556

[MANAGED_SERVERS]
#-------------------------------------------------------------------------------
# P6 Managed Servers
# One server per component per host (8 total)
# 
# Port Convention:
#   8001 - P6 Professional Cloud Connect
#   8002 - P6 EPPM Web
#   8003 - P6 Team Member Web
#   8004 - P6 Web Services
#-------------------------------------------------------------------------------
MODE=MANUAL
SERVER_COUNT=8

# Host 1 (xpmvp01) Servers
SERVER1=xp6proserverp1:8001:machine-xpmvp01:ProCloudConnectCluster
SERVER2=xp6serverp1:8002:machine-xpmvp01:P6Cluster
SERVER3=xp6tmserverp1:8003:machine-xpmvp01:TeamMemberCluster
SERVER4=xp6wsserverp1:8004:machine-xpmvp01:WebServicesCluster

# Host 2 (xpmvp02) Servers
SERVER5=xp6proserverp2:8001:machine-xpmvp02:ProCloudConnectCluster
SERVER6=xp6serverp2:8002:machine-xpmvp02:P6Cluster
SERVER7=xp6tmserverp2:8003:machine-xpmvp02:TeamMemberCluster
SERVER8=xp6wsserverp2:8004:machine-xpmvp02:WebServicesCluster

[NODEMANAGER]
#-------------------------------------------------------------------------------
# Node Manager Configuration
# PLAIN type on standard port 5556
#-------------------------------------------------------------------------------
TYPE=PLAIN
LISTEN_ADDRESS=0.0.0.0
LISTEN_PORT=5556
SECURE_LISTENER=false

[OPTIONS]
#-------------------------------------------------------------------------------
# P6-Specific Options
#-------------------------------------------------------------------------------
CREATE_BOOT_PROPERTIES=true
GENERATE_AUTOSTART_CONFIG=true
START_ADMIN_SERVER=false
START_MANAGED_SERVERS=false

#===============================================================================
# NOTES FOR P6 DEPLOYMENT:
#===============================================================================
#
# 1. After domain creation, deploy P6 applications:
#    - p6.ear → P6Cluster
#    - p6ws.ear → WebServicesCluster
#    - p6procloud.ear → ProCloudConnectCluster  
#    - p6tm.ear → TeamMemberCluster
#
# 2. Configure data sources for P6 database connections
#
# 3. Configure P6-specific JVM settings in setDomainEnv.sh:
#    - Memory: -Xms2048m -Xmx4096m (adjust per environment)
#    - GC tuning as per Oracle recommendations
#
# 4. For SSO integration:
#    - External: Configure Shibboleth SP with Apache
#    - Internal: Use WebLogic SAML 2.0 (more complex)
#
# 5. Load Balancer Configuration:
#    - Virtual hosts per cluster
#    - Health check endpoints
#    - Session persistence (if needed)
#
#===============================================================================
