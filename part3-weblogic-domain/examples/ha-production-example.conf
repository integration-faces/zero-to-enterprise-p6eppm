#===============================================================================
# WebLogic Domain Configuration - High Availability Production
# 
# Enterprise-grade configuration with:
# - Multi-host deployment (4 hosts)
# - Multiple clusters for application tiers
# - Production hardening settings
#
# Suitable for mission-critical production workloads.
#===============================================================================

[DOMAIN]
#-------------------------------------------------------------------------------
# Production Domain Settings
#-------------------------------------------------------------------------------
DOMAIN_NAME=ha_prod_domain
DOMAIN_HOME=/app/fmw/user_projects/domains/ha_prod_domain
ADMIN_SERVER_NAME=AdminServer
ADMIN_PORT=7001
ADMIN_USER=weblogic
# CRITICAL: Use WLS_ADMIN_PASSWORD environment variable in production!
ADMIN_PASSWORD=CHANGE_ME_USE_ENV_VAR
# Production mode REQUIRED for production deployments
PRODUCTION_MODE=true

#-------------------------------------------------------------------------------
# Installation Paths
# Must be consistent across all hosts
#-------------------------------------------------------------------------------
JAVA_HOME=/app/jdk1.8.0_471
WEBLOGIC_HOME=/app/fmw/wlserver
MIDDLEWARE_HOME=/app/fmw

[ADMIN_SERVER]
#-------------------------------------------------------------------------------
# Admin Server Configuration
# Consider dedicated admin host in large deployments
#-------------------------------------------------------------------------------
LISTEN_ADDRESS=0.0.0.0
LISTEN_PORT=7001
SSL_ENABLED=false
# Enable SSL for production (configure separately):
# SSL_ENABLED=true
# SSL_PORT=7002

[CLUSTERS]
#-------------------------------------------------------------------------------
# Multi-Tier Clustering
# Separate clusters for different application tiers
#-------------------------------------------------------------------------------
ENABLED=true
CLUSTER_COUNT=3

# Web Presentation Tier
CLUSTER1_NAME=WebPresentationCluster
CLUSTER1_MESSAGING_MODE=unicast

# Business Logic Tier
CLUSTER2_NAME=BusinessLogicCluster
CLUSTER2_MESSAGING_MODE=unicast

# Integration Services Tier
CLUSTER3_NAME=IntegrationCluster
CLUSTER3_MESSAGING_MODE=unicast

[HOSTS]
#-------------------------------------------------------------------------------
# 4-Host HA Configuration
# Distributed across availability zones/racks for resilience
#-------------------------------------------------------------------------------
HOST_COUNT=4
# Web tier hosts
HOST1=webprod01
HOST2=webprod02
# Service tier hosts
HOST3=svcprod01
HOST4=svcprod02

[MACHINES]
#-------------------------------------------------------------------------------
# Machine Definitions
# Standard Node Manager configuration
#-------------------------------------------------------------------------------
MACHINE1=machine-webprod01:webprod01:5556
MACHINE2=machine-webprod02:webprod02:5556
MACHINE3=machine-svcprod01:svcprod01:5556
MACHINE4=machine-svcprod02:svcprod02:5556

[MANAGED_SERVERS]
#-------------------------------------------------------------------------------
# Production Managed Servers
# Tier-based distribution across hosts
#-------------------------------------------------------------------------------
MODE=MANUAL
SERVER_COUNT=12

# Web Presentation Tier (hosts 1-2)
# 2 servers per host, ports 8001-8002
SERVER1=webpres1:8001:machine-webprod01:WebPresentationCluster
SERVER2=webpres2:8002:machine-webprod01:WebPresentationCluster
SERVER3=webpres3:8001:machine-webprod02:WebPresentationCluster
SERVER4=webpres4:8002:machine-webprod02:WebPresentationCluster

# Business Logic Tier (hosts 3-4)
# 2 servers per host, ports 8001-8002
SERVER5=bizlogic1:8001:machine-svcprod01:BusinessLogicCluster
SERVER6=bizlogic2:8002:machine-svcprod01:BusinessLogicCluster
SERVER7=bizlogic3:8001:machine-svcprod02:BusinessLogicCluster
SERVER8=bizlogic4:8002:machine-svcprod02:BusinessLogicCluster

# Integration Tier (distributed across service hosts)
# 2 servers per host, ports 8003
SERVER9=integration1:8003:machine-svcprod01:IntegrationCluster
SERVER10=integration2:8004:machine-svcprod01:IntegrationCluster
SERVER11=integration3:8003:machine-svcprod02:IntegrationCluster
SERVER12=integration4:8004:machine-svcprod02:IntegrationCluster

[NODEMANAGER]
#-------------------------------------------------------------------------------
# Node Manager Configuration
# Same on all hosts
#-------------------------------------------------------------------------------
TYPE=PLAIN
LISTEN_ADDRESS=0.0.0.0
LISTEN_PORT=5556
SECURE_LISTENER=false

# For SSL Node Manager (requires certificate setup):
# TYPE=SSL
# SECURE_LISTENER=true

[OPTIONS]
#-------------------------------------------------------------------------------
# Production Options
#-------------------------------------------------------------------------------
CREATE_BOOT_PROPERTIES=true
GENERATE_AUTOSTART_CONFIG=true
START_ADMIN_SERVER=false
START_MANAGED_SERVERS=false

#===============================================================================
# PRODUCTION HARDENING CHECKLIST:
#===============================================================================
#
# [ ] Change default admin password
# [ ] Use WLS_ADMIN_PASSWORD environment variable
# [ ] Enable SSL on Admin Server
# [ ] Configure production-grade JDBC datasources
# [ ] Set appropriate JVM heap sizes per tier
# [ ] Configure work managers and thread pools
# [ ] Set up monitoring and alerting
# [ ] Configure log rotation
# [ ] Enable LDAP/AD authentication
# [ ] Review security realm configuration
# [ ] Configure backup/recovery procedures
# [ ] Document runbook and escalation procedures
#
# LOAD BALANCER REQUIREMENTS:
# - Virtual hosts per cluster
# - Health check endpoints configured
# - Session affinity if required
# - SSL termination configured
# - Appropriate timeouts set
#
# RECOMMENDED JVM SETTINGS (per server type):
#
# Web Presentation:
#   -Xms2g -Xmx4g -XX:+UseG1GC -XX:MaxGCPauseMillis=200
#
# Business Logic:
#   -Xms4g -Xmx8g -XX:+UseG1GC -XX:MaxGCPauseMillis=500
#
# Integration:
#   -Xms2g -Xmx4g -XX:+UseG1GC -XX:MaxGCPauseMillis=200
#
#===============================================================================
