#===============================================================================
# WebLogic Domain Configuration - Zero to Enterprise Blog Series
# 
# P6 EPPM 25.12 with SSO - Part 3: WebLogic Domain
# 
# This configuration creates the eppm_domain for our lab environment
# with four application-based clusters for P6 components.
#
# Hosts: prmapp01, prmapp02
# Domain: eppm_domain
# 
# Integration Faces - https://integrationfaces.com
#===============================================================================

[DOMAIN]
#-------------------------------------------------------------------------------
# Domain Settings
#-------------------------------------------------------------------------------
DOMAIN_NAME=eppm_domain
DOMAIN_HOME=/u01/app/weblogic/user_projects/domains/eppm_domain
ADMIN_SERVER_NAME=AdminServer
ADMIN_PORT=7001
ADMIN_USER=weblogic
# ADMIN_PASSWORD will be prompted during setup
PRODUCTION_MODE=true

#-------------------------------------------------------------------------------
# Installation Paths (from Part 2)
#-------------------------------------------------------------------------------
JAVA_HOME=/u01/app/java/jdk17
WEBLOGIC_HOME=/u01/app/weblogic/wlserver
MIDDLEWARE_HOME=/u01/app/weblogic

[ADMIN_SERVER]
#-------------------------------------------------------------------------------
# Admin Server Configuration
# Runs on prmapp01
#-------------------------------------------------------------------------------
LISTEN_ADDRESS=prmapp01
LISTEN_PORT=7001
SSL_ENABLED=false

[CLUSTERS]
#-------------------------------------------------------------------------------
# P6 Component Clusters
# Separate cluster per P6 application for isolation and scalability
#-------------------------------------------------------------------------------
ENABLED=true
CLUSTER_COUNT=4

# Cluster 1: P6 EPPM Web Application
CLUSTER1_NAME=p6web_cluster
CLUSTER1_MESSAGING_MODE=unicast

# Cluster 2: P6 Web Services (SOAP/REST APIs)
CLUSTER2_NAME=p6ws_cluster
CLUSTER2_MESSAGING_MODE=unicast

# Cluster 3: P6 Team Member Web
CLUSTER3_NAME=p6tm_cluster
CLUSTER3_MESSAGING_MODE=unicast

# Cluster 4: P6 Professional Cloud Connect
CLUSTER4_NAME=p6cc_cluster
CLUSTER4_MESSAGING_MODE=unicast

[HOSTS]
#-------------------------------------------------------------------------------
# Two-Host Configuration
# Blog series lab environment
#-------------------------------------------------------------------------------
HOST_COUNT=2
HOST1=prmapp01
HOST2=prmapp02

[MACHINES]
#-------------------------------------------------------------------------------
# Machine Definitions
# Node Manager port 5556 (plain mode)
#-------------------------------------------------------------------------------
MACHINE1=prmapp01_machine:prmapp01:5556
MACHINE2=prmapp02_machine:prmapp02:5556

[MANAGED_SERVERS]
#-------------------------------------------------------------------------------
# P6 Managed Servers (8 total - 4 per host)
# 
# Port Convention:
#   7010 - P6 Web
#   7020 - P6 Web Services
#   7030 - P6 Team Member
#   7040 - P6 Cloud Connect
#-------------------------------------------------------------------------------
MODE=MANUAL
SERVER_COUNT=8

# Host 1 (prmapp01) Servers
SERVER1=p6web_ms1:7010:prmapp01_machine:p6web_cluster
SERVER2=p6ws_ms1:7020:prmapp01_machine:p6ws_cluster
SERVER3=p6tm_ms1:7030:prmapp01_machine:p6tm_cluster
SERVER4=p6cc_ms1:7040:prmapp01_machine:p6cc_cluster

# Host 2 (prmapp02) Servers
SERVER5=p6web_ms2:7010:prmapp02_machine:p6web_cluster
SERVER6=p6ws_ms2:7020:prmapp02_machine:p6ws_cluster
SERVER7=p6tm_ms2:7030:prmapp02_machine:p6tm_cluster
SERVER8=p6cc_ms2:7040:prmapp02_machine:p6cc_cluster

[NODEMANAGER]
#-------------------------------------------------------------------------------
# Node Manager Configuration
# Plain mode (no SSL) for lab environment
#-------------------------------------------------------------------------------
TYPE=PLAIN
LISTEN_ADDRESS=0.0.0.0
LISTEN_PORT=5556
SECURE_LISTENER=false

[OPTIONS]
#-------------------------------------------------------------------------------
# Domain Creation Options
#-------------------------------------------------------------------------------
CREATE_BOOT_PROPERTIES=true
GENERATE_AUTOSTART_CONFIG=true
START_ADMIN_SERVER=false
START_MANAGED_SERVERS=false

#===============================================================================
# USAGE:
#===============================================================================
#
# 1. Copy this file and weblogic-domain-automation to prmapp01
#
# 2. Run the domain creation:
#    ./create-domain.sh blog-series.conf
#
# 3. Pack/Unpack for prmapp02 (generated scripts will be created)
#
# 4. Start Node Managers, Admin Server, then Managed Servers
#
# 5. Access WebLogic Console: http://prmapp01:7001/console
#
#===============================================================================
