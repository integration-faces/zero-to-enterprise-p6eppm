#===============================================================================
# WebLogic Domain Configuration - Two Host HA
# 
# This configuration creates a domain distributed across two hosts.
# Ideal for high-availability production deployments.
#
# Clustering: Optional (enabled by default for HA)
#===============================================================================

[DOMAIN]
#-------------------------------------------------------------------------------
# Domain Settings
#-------------------------------------------------------------------------------
DOMAIN_NAME=prod_domain
DOMAIN_HOME=/app/fmw/user_projects/domains/prod_domain
ADMIN_SERVER_NAME=AdminServer
ADMIN_PORT=7001
ADMIN_USER=weblogic
# Password should be set via WLS_ADMIN_PASSWORD environment variable in production
ADMIN_PASSWORD=SecurePass123
PRODUCTION_MODE=true

#-------------------------------------------------------------------------------
# Installation Paths
# Must be identical on both hosts
#-------------------------------------------------------------------------------
JAVA_HOME=/app/jdk1.8.0_471
WEBLOGIC_HOME=/app/fmw/wlserver
MIDDLEWARE_HOME=/app/fmw

[ADMIN_SERVER]
#-------------------------------------------------------------------------------
# Admin Server Network Configuration
# Typically runs on first host
#-------------------------------------------------------------------------------
LISTEN_ADDRESS=0.0.0.0
LISTEN_PORT=7001
SSL_ENABLED=false

[CLUSTERS]
#-------------------------------------------------------------------------------
# Clustering Configuration
# Enabled for HA - provides failover and load balancing
#-------------------------------------------------------------------------------
ENABLED=true
CLUSTER_COUNT=1

# Single cluster for all managed servers
CLUSTER1_NAME=ProductionCluster
CLUSTER1_MESSAGING_MODE=unicast

# For multicast (if required by network):
# CLUSTER1_MESSAGING_MODE=multicast
# CLUSTER1_MULTICAST_ADDRESS=239.192.0.1
# CLUSTER1_MULTICAST_PORT=7001

[HOSTS]
#-------------------------------------------------------------------------------
# Host Configuration
# Two-host HA deployment
#-------------------------------------------------------------------------------
HOST_COUNT=2
HOST1=weblogic01
HOST2=weblogic02

[MACHINES]
#-------------------------------------------------------------------------------
# Machine Definitions
# One machine per host for Node Manager
# Format: machine_name:hostname:nodemanager_port
#-------------------------------------------------------------------------------
MACHINE1=machine-weblogic01:weblogic01:5556
MACHINE2=machine-weblogic02:weblogic02:5556

[MANAGED_SERVERS]
#-------------------------------------------------------------------------------
# Managed Server Configuration
# Evenly distributed across both hosts
#-------------------------------------------------------------------------------
MODE=MANUAL

# 4 servers total - 2 per host
# Format: server_name:listen_port:machine_name:cluster_name
SERVER_COUNT=4
SERVER1=managed1:8001:machine-weblogic01:ProductionCluster
SERVER2=managed2:8002:machine-weblogic01:ProductionCluster
SERVER3=managed3:8001:machine-weblogic02:ProductionCluster
SERVER4=managed4:8002:machine-weblogic02:ProductionCluster

#--- AUTO MODE (alternative) ---
# For uniform naming with automatic distribution:
# MODE=AUTO
# AUTO_SERVER_COUNT=4
# AUTO_SERVER_PREFIX=appserver
# AUTO_SERVER_SUFFIX_STYLE=PADDED    # 01, 02, 03, 04
# AUTO_SERVER_START_PORT=8001
# AUTO_PORT_INCREMENT=1
# AUTO_DISTRIBUTE_ACROSS_MACHINES=true
# AUTO_CLUSTER_ASSIGNMENT=SINGLE
# AUTO_CLUSTER_NAME=ProductionCluster

[NODEMANAGER]
#-------------------------------------------------------------------------------
# Node Manager Configuration
# CRITICAL: Same configuration on both hosts
# Use PLAIN type on port 5556 (Oracle standard)
#-------------------------------------------------------------------------------
TYPE=PLAIN
LISTEN_ADDRESS=0.0.0.0
LISTEN_PORT=5556
SECURE_LISTENER=false

[OPTIONS]
#-------------------------------------------------------------------------------
# Post-Creation Options
#-------------------------------------------------------------------------------
CREATE_BOOT_PROPERTIES=true
GENERATE_AUTOSTART_CONFIG=true
START_ADMIN_SERVER=false
START_MANAGED_SERVERS=false
